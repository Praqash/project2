
<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>
        <script>



        document.addEventListener('DOMContentLoaded', () => {

              // Connect to websocket
              var socket = io.connect(location.protocol + '//' + document.domain + ':' + location.port);

              // When connected, configure buttons
              socket.on('connect', () => {

                  // Each button should emit a "submit vote" event
                document.querySelector('#text').onsubmit = () => {

                                        // Create new item for list
                                        const li = document.createElement('li');
                                        li.innerHTML = document.querySelector('#task').value;

                                        // Add new item to task list
                                        document.querySelector('#chats').append(li);
                                        let x= document.querySelector('#task').value
                                        // Clear input field
                                        document.querySelector('#task').value = '';

                                        // Stop form from submitting

                          socket.emit('submit', x);
                             return false;
                      };
                  });


              // When a new vote is announced, add to the unordered list
              socket.on('announce vote', x => {
                  const li = document.createElement('li');
                   li.innerHTML = x;
                  document.querySelector('#chats').append(li);
              });
          });

        </script>


        <title>Vote</title>
    </head>
    <body>
      <div class="center">
      <h1>Chat App</h1>
       <ul id="chats">
       </ul>
       <form id="text">
           <input id="task" autocomplete="off" autofocus placeholder="Comment" type="text">
           <input type="submit">
       </form>
       </div>
    </body>


    <style>
          .center {
            background-color: #ddd;
            padding: 5px 10px;
            border-radius: 10px;
            color: #555;
            margin-bottom: 5px;
          }
        </style>





</html>
