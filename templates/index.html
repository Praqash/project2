
<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>

        <script>



        document.addEventListener('DOMContentLoaded', () => {
         var socket = io.connect(location.protocol + '//' + document.domain + ':' + location.port);
               socket.on('connect', () => {
              document.querySelector('#text').onsubmit = () => {
              const li = document.createElement('li');
              li.innerHTML = document.querySelector('#task').value;


                      
                      let x= document.querySelector('#task').value

                        document.querySelector('#task').value = '';



                          socket.emit('submit', x);
                             return false;
                      };
                  });


              // When a new vote is announced, add to the unordered list
              socket.on('announce vote', x => {
                  const li = document.createElement('li');
                   li.innerHTML = x;
                  document.querySelector('#chats').append(li);
              });
          });

        </script>


        <title>letsChat</title>
    </head>
    <body>

      <h1>Chat App</h1>
       <ul id="chats">
       </ul>
       <form id="text">
           <input id="task" autocomplete="off" autofocus placeholder="Comment" type="text">
           <input type="submit">
       </form>

    </body>







</html>
